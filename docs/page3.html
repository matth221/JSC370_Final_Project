<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Christopher Matthew" />


<title>Impact of Smoking, Alcohol Consumption, and Happiness on Life Expectancy Trend in the World</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">JSC370 Final Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Introduction</a>
</li>
<li>
  <a href="page2.html">Methods and Results</a>
</li>
<li>
  <a href="page3.html">Conclusion</a>
</li>
<li>
  <a href="page3.html">Official Report</a>
</li>
<li>
  <a href="page3.html">Video Presentation</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/matth221">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/toperper/">
    <span class="fa fa-brands fa-linkedin"></span>
     
  </a>
</li>
<li>
  <a href="https://jsc370.github.io/jsc370-2022/">JSC370 Home</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Impact of Smoking, Alcohol Consumption, and Happiness on Life Expectancy Trend in the World</h1>
<h4 class="author">Christopher Matthew</h4>
<h4 class="date">4/21/2022</h4>

</div>


<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<div id="summary" class="section level2">
<h2>Summary</h2>
<p>From the seven possible models in Appendix 1, based on previous results and arguments, we will pick the original model with both smoking, alcohol, and happiness as the predictor variables and life expectancy as the response variable. The Adjusted R^2 for the selected model is 0.6964. Furthermore, we decided to not include any splines since including them does not result in significantly better model and it will increase the chance of overfitting given that our dataset size is very small. It’s also critical to note that the model contains several limitations that we’ll discuss soon.</p>
<p>From each of the linear models, smokepercentage have a slight strong linear relationship with life expectancy while alcohol does not show a significant linear relationship with life expectancy. In addition, happiness is the factor that have the strongest linear relationship with life expectancy. All predictors combined have a stronger linear relationship with life expectancy.</p>
<p>When other variable remains constant, an increase of one unit in smokepercentage on average will result in increase of 2 million units of Life Expectancy^5 and increase of one litre of alcohol consumption on average will result in increase of 2.3 million units of Life Expectancy^5 and increase of one in happiness index will result in increase of 7.3 million units of Life Expectancy^5.</p>
<table>
<thead>
<tr class="header">
<th align="left">Coefficients</th>
<th align="left">Estimate</th>
<th align="left">P-Value</th>
<th align="left">Significance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Intercept</td>
<td align="left">-2.3 * 10^9</td>
<td align="left">10^-10</td>
<td align="left">***</td>
</tr>
<tr class="even">
<td align="left">smokepercentage</td>
<td align="left">2 * 10^7</td>
<td align="left">0.003</td>
<td align="left">**</td>
</tr>
<tr class="odd">
<td align="left">alcohol_consumption</td>
<td align="left">2.3 * 10^7</td>
<td align="left">0.16</td>
<td align="left">*</td>
</tr>
<tr class="even">
<td align="left">happiness</td>
<td align="left">7.3 * 10^8</td>
<td align="left">10^-16</td>
<td align="left">***</td>
</tr>
</tbody>
</table>
<p><em>Table 3: Model Summary</em></p>
<p>We also compared multiple methods of predicting the value of Life Expectancy which includes Linear Model, Regression Tree, Bagging, and Random Forest. As we can see, the lowest MSE belongs to the normal linear model and this is expected since the number of observation that we have is limited and there is also a low number of predictors which makes linear regression one of the best option.</p>
<table>
<thead>
<tr class="header">
<th align="left">Method</th>
<th align="left">Test MSE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Linear Model</td>
<td align="left">28.73</td>
</tr>
<tr class="even">
<td align="left">Regression Tree</td>
<td align="left">17.12</td>
</tr>
<tr class="odd">
<td align="left">Bagging</td>
<td align="left">20.34</td>
</tr>
<tr class="even">
<td align="left">Random Forest</td>
<td align="left">21.08</td>
</tr>
</tbody>
</table>
<p><em>Table 4: Test MSE Comparison</em></p>
</div>
<div id="limitation-and-strengths" class="section level2">
<h2>Limitation and Strengths</h2>
<p>We also need to remember that there are a lot of limitations and problems along our research and methods. First, our dataset is small as it only contains 101 observations and we decided to not validate our data since dividing them into training and testing dataset will further reduce the sample size and the accuracy of the model. We also use country’s general population data which averages values over everyone which causes over-generalization as same weights are given to each country, despite huge difference in population count.</p>
<p>Our data source also included 4 different data collected independently which causes variance and inaccuracy of time in our data. In our model checking, we merely check model assumptions by observing the data and transforming using a single method which might not be suitable in every scenario. Since our data are small, the transformation might overfit into our data which cause our validation to fail by significant margin. Our model selection is very limited because we only collect three different predictors to begin with which limits us to seven different non-empty subsets. Finally, our final model has moderate Adjusted R^2 and very low p-value which means that our predictors explain life expectancy pretty well.</p>
<p>We can improve our research by collecting a smaller cluster of data (smaller groups instead of countries) and gathering scientifically proven predictors that affect life expectancy significantly to allow better model selection and reduce variance of data. We can also improve our data by including more resources about the country to create an interactive map.</p>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="appendix" class="section level1">
<h1>Appendix</h1>
<p>Please refer to the Appendix in the Official Report.</p>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<ol style="list-style-type: decimal">
<li><p>Manuel, D. G. (2012). Seven more years the impact of smoking, alcohol, diet, physical activity and stress on health and life expectancy in Ontario: an ICES/PHO report. Institute for Clinical Evaluative Sciences.</p></li>
<li><p>Janssen, F., Trias-Llimós, S., &amp; Kunst, A. E. (2021). The combined impact of smoking, obesity, and alcohol on life-expectancy trends in Europe. International Journal of Epidemiology, 50(3), 931–941. <a href="https://doi.org/10.1093/ije/dyaa273" class="uri">https://doi.org/10.1093/ije/dyaa273</a></p></li>
<li><p>Östergren, O., Martikainen, P., Tarkiainen, L., Elstad, J. I., &amp; Brønnum-Hansen, H. (2019). Contribution of smoking and alcohol consumption to income differences in life expectancy: evidence using Danish, Finnish, Norwegian and Swedish register data. Journal of Epidemiology and Community Health (1979), 73(4), 334–339. <a href="https://doi.org/10.1136/jech2018-211640" class="uri">https://doi.org/10.1136/jech2018-211640</a></p></li>
<li><p>Kunzmann AT, Coleman HG, Huang WY, Berndt SI (2018) The association of lifetime alcohol use with mortality and cancer risk in older adults: A cohort study. PLOS Medicine 15(6): e1002585. <a href="https://doi.org/10.1371/journal.pmed.1002585" class="uri">https://doi.org/10.1371/journal.pmed.1002585</a></p></li>
<li><p>Lawrence, E. M., Rogers, R. G., &amp; Wadsworth, T. (2015). Happiness and longevity in the United States. Social science &amp; medicine (1982), 145, 115–119. <a href="https://doi.org/10.1016/j.socscimed.2015.09.020" class="uri">https://doi.org/10.1016/j.socscimed.2015.09.020</a></p></li>
<li><p>Smoking Rates by Country 2021: <a href="https://worldpopulationreview.com/country-rankings/smoking-rates-by-country" class="uri">https://worldpopulationreview.com/country-rankings/smoking-rates-by-country</a></p></li>
<li><p>Alcohol consumption per capita per year (litres of pure alcohol): <a href="https://data.worldbank.org/indicator/SH.ALC.PCAP.LI" class="uri">https://data.worldbank.org/indicator/SH.ALC.PCAP.LI</a></p></li>
<li><p>Life Expectancy at Birth (in years): <a href="https://data.worldbank.org/indicator/SP.DYN.LE00.IN" class="uri">https://data.worldbank.org/indicator/SP.DYN.LE00.IN</a></p></li>
<li><p>World Happiness Report 2019: <a href="https://www.kaggle.com/datasets/unsdsn/world-happiness" class="uri">https://www.kaggle.com/datasets/unsdsn/world-happiness</a></p></li>
<li><p>Country to Continent Dataset: <a href="https://raw.githubusercontent.com/dbouquin/IS_608/master/NanosatDB_munging/Countries-Continents.csv" class="uri">https://raw.githubusercontent.com/dbouquin/IS_608/master/NanosatDB_munging/Countries-Continents.csv</a></p></li>
</ol>
</div>

<p>Copyright &copy; 2022, Christopher Matthew.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
